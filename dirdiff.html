 <html>
 <head>
 <style>
table {
    border-collapse: collapse;
    width: 100%;
}

tr:hover { background-color: #f5f5f5 }

th, td, input[type='text'] {
    border-bottom: 1px solid #ddd;
    padding: 15px;
    text-align: left;
}
input {
    width: 100%; /* Full-width */
    margin-bottom: 12px; /* Add some space below the input */
}
</style>
 </head>
 <body>
    <h1>DirDiff 1.3</h1>
    <h2>Verktøy for å sammenligne filmapper</h2>
    <p>Støtter: txt, xml, html</p>
    <p>Features: searsh</p>
    
    <table id=maintable>
        <th>Mappe 1 
            <br><br><input type="file" id="files-input1" multiple />
            <br><input type="text" id="myInput1" onkeyup="search_filter(this,0)" placeholder="Søke filnavn" title="Type in a name">
        </th>
        <th>Mappe 2 
            <br><br><input type="file" id="files-input2" multiple />
            <br><input type="text" id="myInput2" onkeyup="search_filter(this,1)" placeholder="Søke filnavn" title="Type in a name">
        </th>
    </table>

</body>

<script src="lib/jquery-3.2.1.js"></script>
<script>
    // Check for the various File API support.
    if (window.File && window.FileReader && window.FileList && window.Blob) {
        // Great success! All the File APIs are supported.
    } else {
        alert('The File APIs are not fully supported in this browser.');
    }
</script>

<script>
    var mappe1, mappe2; // FileList objects

    $("#files-input1").change(function() {
        mappe1 = this.files; 
        console.log(mappe1);
        // if there only header -> insert data in the column
        if ($("#maintable").find("tbody").children().length == 1) {
            for (var i = 0, f; f = mappe1[i]; i++) {
                $("#maintable").find("tbody").append($('<tr>')
                        .append($('<td>').text(f.name))
                        .append($('<td>'))
                );
            }
        } else {
            // clear the column
            
            // fill the column
            for (var i = 0, f; f = mappe1[i]; i++) {
                $("#maintable").find('tr:nth-child('+(i+2)+')')
                        .find('td:nth-child('+1+')').text(f.name);
            }
        }
    });
    
    $("#files-input2").change(function() {
        mappe2 = this.files; // FileList object
        console.log(mappe2);
        // if there only header -> insert data in the column
        if ($("#maintable").find("tbody").children().length == 1) {
            for (var i = 0, f; f = mappe2[i]; i++) {
                $("#maintable").find("tbody").append($('<tr>')
                        .append($('<td>'))
                        .append($('<td>').text(f.name))
                );
            }
        } else {
        // fill the column
            for (var i = 0, f; f = mappe2[i]; i++) {
                $("#maintable").find('tr:nth-child('+(i+2)+')')
                        .find('td:nth-child('+2+')').text(f.name);
            }
        }
    });

    
    // https://www.w3schools.com/howto/howto_js_filter_table.asp
    function search_filter(input,column) {
        var input, filter, table, tr, td, i;
        filter = input.value.toUpperCase();
        table = document.getElementById("maintable");
        tr = table.getElementsByTagName("tr");
        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[column];
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }       
        }
    }

</script>

</html>
